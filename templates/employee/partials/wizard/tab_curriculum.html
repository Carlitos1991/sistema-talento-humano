<!-- 1. BANNER DE GESTIÓN PDF (Se mantiene igual) -->
<!-- 1. BANNER DE GESTIÓN PDF -->
<div class="cv-action-banner shadow-sm">
    <div class="cv-action-title">
        <i class="fa-solid fa-file-pdf fa-xl"></i>
        <span>HOJA DE VIDA DIGITAL (PDF)</span>
    </div>

    <div class="header-actions-wrapper">
        <!-- Input de archivo oculto -->
        <input type="file" id="pdfInput" class="hidden" accept=".pdf"
               @change="handlePdfUpload($event, {{ person.id }})">

        {% if person.curriculum.pdf_file %}
            <!-- BOTÓN VER: Abre en pestaña nueva -->
            <a href="{{ person.curriculum.pdf_file.url }}" target="_blank"
               class="btn-header-premium" style="background: #3b82f6; color: white;">
                <i class="fa-solid fa-eye"></i> VER DOCUMENTO
            </a>

            <!-- BOTÓN REEMPLAZAR -->
            <button class="btn-header-premium" style="background: #10b981; color: white;"
                    onclick="document.getElementById('pdfInput').click()">
                <i class="fa-solid fa-arrows-rotate"></i> ACTUALIZAR
            </button>
        {% else %}
            <!-- BOTÓN SUBIR (Cuando no existe archivo) -->
            <button class="btn-header-premium" style="background: #10b981; color: white;"
                    onclick="document.getElementById('pdfInput').click()">
                <i class="fa-solid fa-cloud-arrow-up"></i> SUBIR HOJA DE VIDA
            </button>
        {% endif %}
    </div>
</div>

<!-- 2. GRID FUSIONADO: TÍTULOS, EXPERIENCIA, CURSOS -->
<div class="grid-info-personal">
    <!-- TARJETA: TÍTULOS ACADÉMICOS -->
    <div class="info-box-styled personal-border shadow-sm">
        <h6 class="section-title"><i class="fa-solid fa-graduation-cap"></i> Títulos Académicos</h6>
        <div class="cv-stat-inner-container">
            <div class="cv-stat-number text-primary">[[ personStats.titles ]]</div>
            <div class="cv-stat-label">Registrados</div>
        </div>
        <div class="cv-buttons-centered">
            <!-- Usamos onclick con una función global o capturada por el listener -->
            <button class="btn-cv-pill new" onclick="handleCvAction('academic', 'new')">
                <i class="fa-solid fa-plus"></i> Nuevo
            </button>
            <button class="btn-cv-pill list" onclick="handleCvAction('academic', 'list')">
    <i class="fa-solid fa-list"></i> Listado
</button>
        </div>
    </div>

    <!-- TARJETA: EXPERIENCIA LABORAL -->
    <div class="info-box-styled medical-border shadow-sm">
        <h6 class="section-title"><i class="fa-solid fa-briefcase"></i> Experiencia Laboral</h6>
        <div class="cv-stat-inner-container">
            <div class="cv-stat-number text-success">[[ personStats.experienceYears ]] años [[ personStats.experienceMonths ]] meses</div>
            <div class="cv-stat-label">Experiencia Total</div>
        </div>
        <div class="cv-buttons-centered">
            <button class="btn-cv-pill new" onclick="handleCvAction('experience', 'new')">
                <i class="fa-solid fa-plus"></i> Nuevo
            </button>
            <button class="btn-cv-pill list" onclick="handleCvAction('experience', 'list')">
                <i class="fa-solid fa-list"></i> Listado
            </button>
        </div>
    </div>

    <!-- TARJETA: CURSOS -->
    <div class="info-box-styled location-border shadow-sm">
        <h6 class="section-title"><i class="fa-solid fa-book-atlas"></i> Cursos y Capacitaciones</h6>
        <div class="cv-stat-inner-container">
            <div class="cv-stat-number text-warning">[[ personStats.courses ]]</div>
            <div class="cv-stat-label">Capacitaciones</div>
        </div>
        <div class="cv-buttons-centered">
            <button class="btn-cv-pill new" onclick="handleCvAction('training', 'new')">
                <i class="fa-solid fa-plus"></i> Nuevo
            </button>
            <button class="btn-cv-pill list" onclick="handleCvAction('training', 'list')">
                <i class="fa-solid fa-list"></i> Listado
            </button>
        </div>
    </div>
</div>

<!-- MODAL GENÉRICO PARA LISTADOS -->
{#{% include 'employee/partials/wizard/modal_cv_generic_list.html' %}#}